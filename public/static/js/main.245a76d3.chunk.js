(this.webpackJsonpbasic=this.webpackJsonpbasic||[]).push([[0],{23:function(e,t,a){e.exports=a(34)},28:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),l=a.n(s),c=a(2),i=(a(28),a(3)),o=a(4),m=a(6),u=a(5),p=a(7),h=a(11),d=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={articles:[]},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://altcampusmagz.herokuapp.com/api/articles/").then((function(e){return e.json()})).then((function(t){e.setState({articles:t.articles.reverse()})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"feed"},r.a.createElement("div",{className:"feed-wrapper"},this.state.articles.map((function(e){return r.a.createElement("div",{className:"post-card"},r.a.createElement("h2",{className:"post-title"},e.title),r.a.createElement(c.b,{to:"/users/".concat(e.userId.username)},r.a.createElement("div",{className:"post-profile"},r.a.createElement("img",{className:"post-profile-pic",src:"".concat(e.userId.picture),alt:""}),r.a.createElement("div",{className:"post-author-div"},r.a.createElement("p",{className:"post-author"},"Author"),r.a.createElement("p",{className:"post-author-name"},e.userId.username)),r.a.createElement("div",null,r.a.createElement("p",{className:"post-type"},"Published"),r.a.createElement("p",{className:"post-time"},new Intl.DateTimeFormat("en-GB",{month:"long",day:"2-digit",year:"numeric"}).format(new Date(e.createdAt)))))),r.a.createElement("p",{className:"post-descri"},e.description),r.a.createElement("a",{className:"post-readmore",href:"".concat(e.body),target:"_blank"},"Read More"))})))))}}]),t}(r.a.Component),g=Object(h.f)(d);function E(e){return r.a.createElement("div",null,r.a.createElement(c.b,{className:"nav-item",to:"/create"},"New Post"),r.a.createElement(c.b,{className:"nav-item",to:"/me"},"Me"),r.a.createElement(c.b,{onClick:function(){return function(e){localStorage.removeItem("altmagzusername"),localStorage.removeItem("altmagzloggedUser"),e()}(e)},to:"/",className:"nav-item"},"Logout"))}function f(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("div",{className:"nav-bar"},r.a.createElement("div",null,r.a.createElement(c.b,{className:"nav-logo",exact:!0,to:"/"},"AltMagz")),r.a.createElement("div",{className:"footer rfooter"},r.a.createElement("p",{className:"footer-text"},"Developed by "),r.a.createElement("a",{title:"chaduvula prasanth",href:"https://twitter.com/chaduvula98",target:"_blank"},r.a.createElement("p",{className:"footer-text-name"},"Chaduvula Prasanth")),r.a.createElement("a",{className:"footer-link",href:"https://altcampus.io/",target:"_blank"},"Made with \u2764\ufe0f in"," ",r.a.createElement("span",{className:"footer-text-name"},"Altcampus"))),localStorage.altmagzloggedUser?E(e.handleIsnav):r.a.createElement("div",{className:"nav-items-right"},r.a.createElement(c.b,{className:"nav-item",to:"/signup"},"signup"),r.a.createElement(c.b,{className:"nav-item",to:"/login"},"Login"))))))}var v=a(13),b=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object(v.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),fetch("https://altcampusmagz.herokuapp.com/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.email,password:e.state.password})}).then((function(e){return e.json()})).then((function(t){t.success?(localStorage.setItem("altmagzloggedUser",t.token),localStorage.setItem("altmagzusername",t.username),e.props.handleIsnav(),e.props.history.push("/")):alert("enter valid details")}))},e.state={},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"signup"},r.a.createElement("div",{className:"signup-wrapper"},r.a.createElement("h1",{className:"signup-text"},"Login"),r.a.createElement("form",null,r.a.createElement("input",{className:"signup-input",type:"email",required:!0,name:"email",placeholder:"enter your email",value:this.state.email,onChange:this.handleChange}),r.a.createElement("input",{className:"signup-input",type:"password",required:!0,name:"password",placeholder:"enter your password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{className:"signup-btn",type:"submit",value:"Login",onClick:this.handleSubmit})))))}}]),t}(r.a.Component),N=Object(h.f)(b),y=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object(v.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),fetch("https://altcampusmagz.herokuapp.com/api/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.state.username,email:e.state.email,password:e.state.password,picture:e.state.picture})}).then((function(e){return e.json()})).then((function(t){t.success?e.props.history.push("/login"):alert("enter proper user details to register successfully")}))},e.state={username:"",email:"",password:"",picture:""},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"signup"},r.a.createElement("div",{className:"signup-wrapper"},r.a.createElement("h1",{className:"signup-text"},"Signup"),r.a.createElement("form",null,r.a.createElement("input",{className:"signup-input",type:"text",required:!0,name:"username",placeholder:"enter your username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("input",{className:"signup-input",type:"email",required:!0,name:"email",placeholder:"enter your email",value:this.state.email,onChange:this.handleChange}),r.a.createElement("input",{className:"signup-input",type:"password",required:!0,name:"password",placeholder:"enter your password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{className:"signup-input",type:"text",required:!0,name:"picture",placeholder:"Add any of your online picture url",value:this.state.picture,onChange:this.handleChange}),r.a.createElement("input",{className:"signup-btn",type:"submit",value:"Signup",onClick:this.handleSubmit})))))}}]),t}(r.a.Component),j=Object(h.f)(y),O=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object(v.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),fetch("https://altcampusmagz.herokuapp.com/api/articles",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.altmagzloggedUser},body:JSON.stringify({title:e.state.title,description:e.state.description,body:e.state.body})}).then((function(e){return e.json()})).then((function(t){t._id?e.props.history.push("/"):alert("enter valid information to publish")}))},e.state={title:"",description:"",body:""},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"signup"},r.a.createElement("div",{className:"signup-wrapper"},r.a.createElement("h1",{className:"signup-text"},"Create a New Post"),r.a.createElement("form",null,r.a.createElement("input",{className:"signup-input",type:"text",required:!0,name:"title",placeholder:"Article title",value:this.state.title,onChange:this.handleChange}),r.a.createElement("input",{className:"signup-input",type:"text",required:!0,name:"description",placeholder:"Article description",value:this.state.description,onChange:this.handleChange}),r.a.createElement("input",{className:"signup-input",type:"text",required:!0,name:"body",placeholder:"Add the link of the article",value:this.state.body,onChange:this.handleChange}),r.a.createElement("input",{className:"signup-btn",type:"submit",value:"Publish",onClick:this.handleSubmit})))))}}]),t}(r.a.Component),C=Object(h.f)(O),k=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleMount=function(){fetch("https://altcampusmagz.herokuapp.com/api/user/",{headers:{"Content-Type":"application/json",Authorization:localStorage.altmagzloggedUser}}).then((function(e){return e.json()})).then((function(t){e.setState({user:t.user})}))},e.handleDelete=function(t){fetch("https://altcampusmagz.herokuapp.com/api/articles/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:localStorage.altmagzloggedUser}}).then((function(e){return e.json()})).then((function(t){t.success&&e.handleMount()}))},e.state={user:"",articles:[]},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.handleMount()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile-wrapper"},r.a.createElement("div",{className:"profile-details"},r.a.createElement("img",{className:"profile-pic",src:"".concat(this.state.user.picture),alt:""}),r.a.createElement("p",{className:"profile-name"},this.state.user.username))),r.a.createElement("div",{className:"feed-wrapper"},this.state.user&&this.state.user.articlesId.reverse().map((function(t){return r.a.createElement("div",{className:"post-card"},r.a.createElement("h2",{className:"post-title"},t.title),r.a.createElement("div",{className:"post-profile"},r.a.createElement("img",{className:"post-profile-pic",src:"".concat(e.state.user.picture),alt:""}),r.a.createElement("div",{className:"post-author-div"},r.a.createElement("p",{className:"post-author"},"Author"),r.a.createElement("p",{className:"post-author-name"},e.state.user.username)),r.a.createElement("div",null,r.a.createElement("p",{className:"post-type"},"Published"),r.a.createElement("p",{className:"post-time"},new Intl.DateTimeFormat("en-GB",{month:"long",day:"2-digit",year:"numeric"}).format(new Date(t.createdAt)))),r.a.createElement("p",{className:"post-delete",onClick:function(){return e.handleDelete(t._id)}},"Delete")),r.a.createElement("p",{className:"post-descri"},t.description),r.a.createElement("a",{className:"post-readmore",href:"".concat(t.body),target:"_blank"},"Read More"))})))))}}]),t}(r.a.Component),w=Object(h.f)(k),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={user:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.profile;localStorage.altmagzusername==t?this.props.history.push("/me"):fetch("https://altcampusmagz.herokuapp.com/api/profiles/".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({user:t.user})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile-wrapper"},r.a.createElement("div",{className:"profile-details"},r.a.createElement("img",{className:"profile-pic",src:"".concat(this.state.user.picture),alt:""}),r.a.createElement("p",{className:"profile-name"},this.state.user.username))),r.a.createElement("div",{className:"feed-wrapper"},this.state.user&&this.state.user.articlesId.reverse().map((function(t){return r.a.createElement("div",{className:"post-card"},r.a.createElement("h2",{className:"post-title"},t.title),r.a.createElement("div",{className:"post-profile"},r.a.createElement("img",{className:"post-profile-pic",src:"".concat(e.state.user.picture),alt:""}),r.a.createElement("div",{className:"post-author-div"},r.a.createElement("p",{className:"post-author"},"Author"),r.a.createElement("p",{className:"post-author-name"},e.state.user.username)),r.a.createElement("div",null,r.a.createElement("p",{className:"post-type"},"Published"),r.a.createElement("p",{className:"post-time"},new Intl.DateTimeFormat("en-GB",{month:"long",day:"2-digit",year:"numeric"}).format(new Date(t.createdAt))))),r.a.createElement("p",{className:"post-descri"},t.description),r.a.createElement("a",{className:"post-readmore",href:"".concat(t.body),target:"_blank"},"Read More"))})))))}}]),t}(r.a.Component),x=Object(h.f)(S);var I=function(){return r.a.createElement("div",{className:"notfound"},r.a.createElement("h2",{className:"notfound-text"},"Page Not Found"))},z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleIsnav=function(){e.setState({islogged:!0})},e.state={islogged:!1},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"publicRoutes",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/login"},r.a.createElement(N,{handleIsnav:this.handleIsnav})),r.a.createElement(h.a,{exact:!0,path:"/signup"},r.a.createElement(j,{handleIsnav:this.handleIsnav})),r.a.createElement(h.a,{exact:!0,path:"/users/:profile"},r.a.createElement(x,null)),r.a.createElement(h.a,{exact:!0,path:"/"},r.a.createElement(g,null)),r.a.createElement(h.a,{exact:!0},r.a.createElement(I,null))))}},{key:"privateRoutes",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/create"},r.a.createElement(C,null)),r.a.createElement(h.a,{exact:!0,path:"/me"},r.a.createElement(w,null)),r.a.createElement(h.a,{exact:!0,path:"/users/:profile"},r.a.createElement(x,null)),r.a.createElement(h.a,{exact:!0,path:"/"},r.a.createElement(g,null)),r.a.createElement(h.a,{exact:!0},r.a.createElement(I,null))))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{isnav:this.state.islogged,handleIsnav:this.handleIsnav}),localStorage.altmagzloggedUser?this.privateRoutes():this.publicRoutes())}}]),t}(r.a.Component);l.a.render(r.a.createElement(c.a,null,r.a.createElement(z,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.245a76d3.chunk.js.map